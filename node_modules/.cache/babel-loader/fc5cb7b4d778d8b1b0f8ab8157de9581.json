{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nimport instance from '../components/baseURL';\nimport { notify } from '../components/login';\nimport { logupnotify } from '../components/logup';\nexport const Register = data => {\n  console.log(5656, data);\n  return dispatch => {\n    const body = {\n      \"user\": {\n        \"email\": data.email,\n        \"password\": data.password,\n        \"password_confirmation\": data.cpassword\n      }\n    };\n    instance.post(`/signup`, body).then(res => {\n      console.log(res.data);\n      logupnotify(\" registration is successfully\"); // localStorage.setItem('user-info', JSON.stringify(res.data));\n\n      dispatch({\n        type: \"GET_LOGUP\",\n        payload: res.data\n      });\n    }).catch(a => {\n      logupnotify(a.message);\n    });\n  };\n};\n_c = Register;\nexport const getLogin = data => {\n  console.log(5656, data);\n  return dispatch => {\n    const body = {\n      \"user\": {\n        \"email\": data.email,\n        \"password\": data.password\n      }\n    };\n    instance.post(`/signin`, body).then(res => {\n      notify(\"Login successfully\");\n      console.log(res.data);\n      localStorage.setItem('user-info', JSON.stringify(res.data));\n      localStorage.setItem('token', res.data.token); //   localStorage.setItem('user_id', res.data.user.id)\n\n      console.log(\"user_id\");\n      dispatch({\n        type: \"GET_LOGIN\",\n        payload: res.data\n      });\n    }).catch(error => {\n      notify(error.message, error);\n    });\n  };\n};\nexport const GetData = () => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  return dispatch => {\n    instance.request({\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: \"/posts\"\n    }).then(res => {\n      console.log(6776, res.data);\n      dispatch({\n        type: 'GET_DATA',\n        payload: res.data\n      });\n    });\n  };\n};\n_c2 = GetData;\nexport const Cpost = data => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  const userid = localStorage.getItem(\"user_id\");\n  const body = {\n    \"post\": {\n      \"title\": data.title,\n      \"description\": data.description,\n      \"user_id\": userid\n    }\n  };\n  return dispatch => {\n    instance.request({\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: \"/posts\",\n      data: body\n    }).then(res => {\n      console.log(6776, res.data);\n    });\n  };\n};\n_c3 = Cpost;\nexport const Deletedata = () => {\n  return {\n    type: 'DELETE'\n  };\n};\n_c4 = Deletedata;\nexport const Spost = id => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  return dispatch => {\n    instance.request({\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: `/posts/${id}`\n    }).then(res => {\n      console.log(6776, res.data);\n      dispatch({\n        type: \"SPOST\",\n        payload: res.data\n      });\n    });\n  };\n};\n_c5 = Spost;\nexport const Dpost = id => {\n  console.log(5665, id);\n  const token = localStorage.getItem('token');\n  console.log(token);\n  return dispatch => {\n    instance.request({\n      method: \"delete\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: `/posts/${id}`\n    }).then(res => {\n      console.log(6776, res.data);\n      dispatch({\n        type: \"DEL\",\n        payload: res.data\n      });\n    });\n  };\n};\n_c6 = Dpost;\nexport const update_post = (id, data) => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  const userid = localStorage.getItem(\"user_id\");\n  const body = {\n    \"post\": {\n      \"title\": data.title,\n      \"description\": data.description,\n      \"user_id\": userid\n    }\n  };\n  return dispatch => {\n    axios.request({\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: `/posts/${id}`,\n      data: body\n    }).then(res => {\n      console.log(6776, res.data);\n      dispatch({\n        type: \"UPT_POST\",\n        payload: res.data\n      });\n    });\n  };\n};\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Register\");\n$RefreshReg$(_c2, \"GetData\");\n$RefreshReg$(_c3, \"Cpost\");\n$RefreshReg$(_c4, \"Deletedata\");\n$RefreshReg$(_c5, \"Spost\");\n$RefreshReg$(_c6, \"Dpost\");","map":{"version":3,"names":["React","axios","instance","notify","logupnotify","Register","data","console","log","dispatch","body","email","password","cpassword","post","then","res","type","payload","catch","a","message","getLogin","localStorage","setItem","JSON","stringify","token","error","GetData","getItem","request","method","headers","url","Cpost","userid","title","description","Deletedata","Spost","id","Dpost","update_post"],"sources":["/home/pushparajsigh/Desktop/thunk/redux thunk with API/myapp/src/actions/action.js"],"sourcesContent":["\nimport React from 'react'\nimport axios from 'axios';\nimport instance from '../components/baseURL';\nimport { notify } from '../components/login';\nimport { logupnotify } from '../components/logup';\n\nexport const Register = (data) => {\n  console.log(5656,data)\n  return (dispatch) => {\n  const body = {\n      \"user\":{\n          \"email\":data.email,\n          \"password\":data.password,\n          \"password_confirmation\":data.cpassword\n      }\n  }\n  instance.post(`/signup`,body)\n      .then(res => {\n          console.log(res.data)\n          logupnotify(\" registration is successfully\");\n        // localStorage.setItem('user-info', JSON.stringify(res.data));\n        dispatch({\n            type : \"GET_LOGUP\",\n            payload : res.data\n        });\n      }).catch((a)=>{\n        logupnotify(a.message);\n      })\n     \n  }\n}\n\n   export const getLogin = (data) => {\n    console.log(5656,data)\n    return (dispatch) => {\n    const body = {\n        \"user\":{\n            \"email\":data.email,\n            \"password\":data.password\n        }\n    }\n    instance.post(`/signin`,body)\n    \n    \n        .then(res => {\n            notify(\"Login successfully\");\n            console.log(res.data)\n          localStorage.setItem('user-info', JSON.stringify(res.data));\n          localStorage.setItem('token',res.data.token);\n        //   localStorage.setItem('user_id', res.data.user.id)\n          console.log(\"user_id\")\n          dispatch({\n              type : \"GET_LOGIN\",\n              payload : res.data\n          });\n        }).catch((error)=>{\n            notify(error.message,error);\n        })\n       \n    };\n  };\n  \n\n  export const GetData = () => {\n      const token = localStorage.getItem('token');\n      console.log(token);\n   return (dispatch)=>{\n        instance.request({\n        method: \"get\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": token\n        },\n        url: \"/posts\"\n    }).then(res => \n       {\n        console.log(6776,res.data)\n\n            dispatch ({\n                type:'GET_DATA',\n                payload:res.data\n            })\n        })\n    }\n    };\n\n\n    export const Cpost = (data) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n        const userid = localStorage.getItem(\"user_id\")\n        const body = {\n            \"post\": \n            {\n                \"title\": data.title,\n                \"description\": data.description,\n                \"user_id\": userid\n            }\n        }\n     return (dispatch)=>{\n        instance.request({\n          method: \"post\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n          },\n          url: \"/posts\",\n          data : body\n          \n\n      }).then(res => \n         {\n          console.log(6776,res.data)\n          })\n      }\n      };\n\n     export const Deletedata=()=>{\n         return(\n             {\n                 type:'DELETE',\n             }\n         )\n     }\n     export const Spost = (id) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n            return (dispatch)=>{\n                instance.request({\n           method: \"get\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n      },\n      url: `/posts/${id}`,\n       }).then(res =>{\n          console.log(6776,res.data)\n          dispatch ({\n            type:\"SPOST\",\n            payload:res.data\n        })\n          })\n      }\n      };\n\n    export const Dpost = (id) => {\n          console.log(5665,id)\n        const token = localStorage.getItem('token');\n        console.log(token);\n            return (dispatch)=>{\n                instance.request({\n           method: \"delete\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n      },\n      url: `/posts/${id}`,\n       }).then(res =>{\n          console.log(6776,res.data)\n          dispatch({\n              type:\"DEL\",\n              payload:res.data\n          })\n          })\n      }\n      };\n\n      export const update_post = (id,data) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n       \n        const userid = localStorage.getItem(\"user_id\")\n        const body = {\n            \"post\": \n            {\n                \"title\": data.title,\n                \"description\": data.description,\n                \"user_id\": userid\n            }\n        }\n        return (dispatch)=>{\n            axios.request({\n            method: \"put\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": token\n            },\n            url: `/posts/${id}`,\n            data : body\n            \n  \n        }).then(res => \n           {\n            console.log(6776,res.data)\n            dispatch({\n                type:\"UPT_POST\",\n                payload:res.data\n            })\n    \n            })\n\n        }\n        };"],"mappings":"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"},"metadata":{},"sourceType":"module"}