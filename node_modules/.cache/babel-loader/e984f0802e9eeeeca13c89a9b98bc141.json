{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nexport const Register = data => {\n  console.log(5656, data);\n  return dispatch => {\n    const body = {\n      \"user\": {\n        \"email\": data.email,\n        \"password\": data.password,\n        \"password_confirmation\": data.cpassword\n      }\n    };\n    axios.post(`https://react-rails-api-demo.herokuapp.com/api/v1/signup`, body).then(res => {\n      console.log(res.data);\n      localStorage.setItem('user-info', JSON.stringify(res.data));\n      dispatch({\n        type: \"GET_LOGUP\",\n        payload: res.data\n      });\n    });\n  };\n};\n_c = Register;\nexport const getLogin = data => {\n  console.log(5656, data);\n  return dispatch => {\n    const body = {\n      \"user\": {\n        \"email\": data.email,\n        \"password\": data.password\n      }\n    };\n    axios.post(`https://react-rails-api-demo.herokuapp.com/api/v1/signin`, body).then(res => {\n      console.log(res.data);\n      localStorage.setItem('user-info', JSON.stringify(res.data));\n      localStorage.setItem('token', res.data.token);\n      dispatch({\n        type: \"GET_LOGIN\",\n        payload: res.data\n      });\n    });\n  };\n};\nexport const GetData = () => {\n  const token = localStorage.getItem('token');\n  console.log(token);\n  return dispatch => {\n    axios.request({\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      },\n      url: \"https://react-rails-api-demo.herokuapp.com/api/v1/posts\"\n    }).then(res => {\n      console.log(6776, res.data);\n      dispatch({\n        type: 'GET_DATA',\n        payload: res.data\n      });\n    });\n  };\n};\n_c2 = GetData;\n\nconst Cpost = () => {\n  alert(\"hello world\"); //     const token = localStorage.getItem('token');\n  //     console.log(token);\n  //  return (dispatch)=>{\n  //       axios.request({\n  //       method: \"get\",\n  //       headers: {\n  //           \"Content-Type\": \"application/json\",\n  //           \"Authorization\": token\n  //       },\n  //       url: \"https://react-rails-api-demo.herokuapp.com/api/v1/posts\"\n  //   }).then(res => \n  //      {\n  //       console.log(6776,res.data)\n  //           dispatch ({\n  //               type:'GET_DATA',\n  //               payload:res.data\n  //           })\n  //       })\n  //   }\n};\n\n_c3 = Cpost;\nexport default Cpost;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Register\");\n$RefreshReg$(_c2, \"GetData\");\n$RefreshReg$(_c3, \"Cpost\");","map":{"version":3,"names":["React","axios","Register","data","console","log","dispatch","body","email","password","cpassword","post","then","res","localStorage","setItem","JSON","stringify","type","payload","getLogin","token","GetData","getItem","request","method","headers","url","Cpost","alert"],"sources":["/home/pushparajsigh/Desktop/thunk/redux thunk with API/myapp/src/actions/action.js"],"sourcesContent":["\nimport React from 'react'\nimport axios from 'axios';\n\nexport const Register = (data) => {\n  console.log(5656,data)\n  return (dispatch) => {\n  const body = {\n      \"user\":{\n          \"email\":data.email,\n          \"password\":data.password,\n          \"password_confirmation\":data.cpassword\n      }\n  }\n  axios.post(`https://react-rails-api-demo.herokuapp.com/api/v1/signup`,body)\n      .then(res => {\n          console.log(res.data)\n        localStorage.setItem('user-info', JSON.stringify(res.data));\n        dispatch({\n            type : \"GET_LOGUP\",\n            payload : res.data\n        });\n      })\n     \n  };\n}\n\nexport const getLogin = (data) => {\n    console.log(5656,data)\n    return (dispatch) => {\n    const body = {\n        \"user\":{\n            \"email\":data.email,\n            \"password\":data.password\n        }\n    }\n    axios.post(`https://react-rails-api-demo.herokuapp.com/api/v1/signin`,body)\n        .then(res => {\n            console.log(res.data)\n          localStorage.setItem('user-info', JSON.stringify(res.data));\n          localStorage.setItem('token',res.data.token);\n          dispatch({\n              type : \"GET_LOGIN\",\n              payload : res.data\n          });\n        })\n       \n    };\n  };\n  \n\n  export const GetData = () => {\n      const token = localStorage.getItem('token');\n      console.log(token);\n   return (dispatch)=>{\n        axios.request({\n        method: \"get\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": token\n        },\n        url: \"https://react-rails-api-demo.herokuapp.com/api/v1/posts\"\n    }).then(res => \n       {\n        console.log(6776,res.data)\n\n            dispatch ({\n                type:'GET_DATA',\n                payload:res.data\n            })\n        })\n    }\n    };\n   const Cpost = () => {\n        alert(\"hello world\");\n    //     const token = localStorage.getItem('token');\n    //     console.log(token);\n    //  return (dispatch)=>{\n    //       axios.request({\n    //       method: \"get\",\n    //       headers: {\n    //           \"Content-Type\": \"application/json\",\n    //           \"Authorization\": token\n    //       },\n    //       url: \"https://react-rails-api-demo.herokuapp.com/api/v1/posts\"\n    //   }).then(res => \n    //      {\n    //       console.log(6776,res.data)\n  \n    //           dispatch ({\n    //               type:'GET_DATA',\n    //               payload:res.data\n    //           })\n    //       })\n    //   }\n      };\n      export default Cpost;"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAIC,IAAD,IAAU;EAChCC,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBF,IAAjB;EACA,OAAQG,QAAD,IAAc;IACrB,MAAMC,IAAI,GAAG;MACT,QAAO;QACH,SAAQJ,IAAI,CAACK,KADV;QAEH,YAAWL,IAAI,CAACM,QAFb;QAGH,yBAAwBN,IAAI,CAACO;MAH1B;IADE,CAAb;IAOAT,KAAK,CAACU,IAAN,CAAY,0DAAZ,EAAsEJ,IAAtE,EACKK,IADL,CACUC,GAAG,IAAI;MACTT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACV,IAAhB;MACFW,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACV,IAAnB,CAAlC;MACAG,QAAQ,CAAC;QACLY,IAAI,EAAG,WADF;QAELC,OAAO,EAAGN,GAAG,CAACV;MAFT,CAAD,CAAR;IAID,CARL;EAUC,CAlBD;AAmBD,CArBM;KAAMD,Q;AAuBb,OAAO,MAAMkB,QAAQ,GAAIjB,IAAD,IAAU;EAC9BC,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBF,IAAjB;EACA,OAAQG,QAAD,IAAc;IACrB,MAAMC,IAAI,GAAG;MACT,QAAO;QACH,SAAQJ,IAAI,CAACK,KADV;QAEH,YAAWL,IAAI,CAACM;MAFb;IADE,CAAb;IAMAR,KAAK,CAACU,IAAN,CAAY,0DAAZ,EAAsEJ,IAAtE,EACKK,IADL,CACUC,GAAG,IAAI;MACTT,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACV,IAAhB;MACFW,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACV,IAAnB,CAAlC;MACAW,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BF,GAAG,CAACV,IAAJ,CAASkB,KAAtC;MACAf,QAAQ,CAAC;QACLY,IAAI,EAAG,WADF;QAELC,OAAO,EAAGN,GAAG,CAACV;MAFT,CAAD,CAAR;IAID,CATL;EAWC,CAlBD;AAmBD,CArBI;AAwBL,OAAO,MAAMmB,OAAO,GAAG,MAAM;EACzB,MAAMD,KAAK,GAAGP,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAd;EACAnB,OAAO,CAACC,GAAR,CAAYgB,KAAZ;EACH,OAAQf,QAAD,IAAY;IACdL,KAAK,CAACuB,OAAN,CAAc;MACdC,MAAM,EAAE,KADM;MAEdC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAEL,iBAAiBL;MAFZ,CAFK;MAMdM,GAAG,EAAE;IANS,CAAd,EAODf,IAPC,CAOIC,GAAG,IACR;MACCT,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBQ,GAAG,CAACV,IAArB;MAEIG,QAAQ,CAAE;QACNY,IAAI,EAAC,UADC;QAENC,OAAO,EAACN,GAAG,CAACV;MAFN,CAAF,CAAR;IAIH,CAfD;EAgBH,CAjBF;AAkBE,CArBI;MAAMmB,O;;AAsBZ,MAAMM,KAAK,GAAG,MAAM;EACfC,KAAK,CAAC,aAAD,CAAL,CADe,CAEnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;AACG,CAtBJ;;MAAMD,K;AAuBH,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}