{"ast":null,"code":"import React from'react';import axios from'axios';import instance from'../components/baseURL';import{notify}from'../components/login';import{logupnotify}from'../components/logup';export var Register=function Register(data){console.log(5656,data);return function(dispatch){var body={\"user\":{\"email\":data.email,\"password\":data.password,\"password_confirmation\":data.cpassword}};instance.post(\"/signup\",body).then(function(res){console.log(res.data);logupnotify(\" registration is successfully\");// localStorage.setItem('user-info', JSON.stringify(res.data));\ndispatch({type:\"GET_LOGUP\",payload:res.data});}).catch(function(a){logupnotify(a.message);});};};export var getLogin=function getLogin(data){console.log(5656,data);return function(dispatch){var body={\"user\":{\"email\":data.email,\"password\":data.password}};instance.post(\"/signin\",body).then(function(res){notify(\"Login successfully\");console.log(res.data);localStorage.setItem('user-info',JSON.stringify(res.data));localStorage.setItem('token',res.data.token);//   localStorage.setItem('user_id', res.data.user.id)\nconsole.log(\"user_id\");dispatch({type:\"GET_LOGIN\",payload:res.data});}).catch(function(error){notify(error.message,error);});};};export var GetData=function GetData(){var token=localStorage.getItem('token');console.log(token);return function(dispatch){instance.request({method:\"get\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":token},url:\"/posts\"}).then(function(res){console.log(6776,res.data);dispatch({type:'GET_DATA',payload:res.data});});};};export var Cpost=function Cpost(data){var token=localStorage.getItem('token');console.log(token);var userid=localStorage.getItem(\"user_id\");var body={\"post\":{\"title\":data.title,\"description\":data.description,\"user_id\":userid}};return function(dispatch){instance.request({method:\"post\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":token},url:\"/posts\",data:body}).then(function(res){console.log(6776,res.data);});};};export var Deletedata=function Deletedata(){return{type:'DELETE'};};export var Spost=function Spost(id){var token=localStorage.getItem('token');console.log(token);return function(dispatch){instance.request({method:\"get\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":token},url:\"/posts/\".concat(id)}).then(function(res){console.log(6776,res.data);dispatch({type:\"SPOST\",payload:res.data});});};};export var Dpost=function Dpost(id){console.log(5665,id);var token=localStorage.getItem('token');console.log(token);return function(dispatch){instance.request({method:\"delete\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":token},url:\"/posts/\".concat(id)}).then(function(res){console.log(6776,res.data);dispatch({type:\"DEL\",payload:res.data});});};};export var update_post=function update_post(id,data){var token=localStorage.getItem('token');console.log(token);var userid=localStorage.getItem(\"user_id\");var body={\"post\":{\"title\":data.title,\"description\":data.description,\"user_id\":userid}};return function(dispatch){axios.request({method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":token},url:\"/posts/\".concat(id),data:body}).then(function(res){console.log(6776,res.data);dispatch({type:\"UPT_POST\",payload:res.data});});};};","map":{"version":3,"names":["React","axios","instance","notify","logupnotify","Register","data","console","log","dispatch","body","email","password","cpassword","post","then","res","type","payload","catch","a","message","getLogin","localStorage","setItem","JSON","stringify","token","error","GetData","getItem","request","method","headers","url","Cpost","userid","title","description","Deletedata","Spost","id","Dpost","update_post"],"sources":["/home/pushparajsigh/Desktop/redux-thunk/redux thunk with API/myapp/src/actions/action.js"],"sourcesContent":["\nimport React from 'react'\nimport axios from 'axios';\nimport instance from '../components/baseURL';\nimport { notify } from '../components/login';\nimport { logupnotify } from '../components/logup';\n\nexport const Register = (data) => {\n  console.log(5656,data)\n  return (dispatch) => {\n  const body = {\n      \"user\":{\n          \"email\":data.email,\n          \"password\":data.password,\n          \"password_confirmation\":data.cpassword\n      }\n  }\n  instance.post(`/signup`,body)\n      .then(res => {\n          console.log(res.data)\n          logupnotify(\" registration is successfully\");\n        // localStorage.setItem('user-info', JSON.stringify(res.data));\n        dispatch({\n            type : \"GET_LOGUP\",\n            payload : res.data\n        });\n      }).catch((a)=>{\n        logupnotify(a.message);\n      })\n     \n  }\n}\n\n   export const getLogin = (data) => {\n    console.log(5656,data)\n    return (dispatch) => {\n    const body = {\n        \"user\":{\n            \"email\":data.email,\n            \"password\":data.password\n        }\n    }\n    instance.post(`/signin`,body)\n    \n    \n        .then(res => {\n            notify(\"Login successfully\");\n            console.log(res.data)\n          localStorage.setItem('user-info', JSON.stringify(res.data));\n          localStorage.setItem('token',res.data.token);\n        //   localStorage.setItem('user_id', res.data.user.id)\n          console.log(\"user_id\")\n          dispatch({\n              type : \"GET_LOGIN\",\n              payload : res.data\n          });\n        }).catch((error)=>{\n            notify(error.message,error);\n        })\n       \n    };\n  };\n  \n\n  export const GetData = () => {\n      const token = localStorage.getItem('token');\n      console.log(token);\n   return (dispatch)=>{\n        instance.request({\n        method: \"get\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": token\n        },\n        url: \"/posts\"\n    }).then(res => \n       {\n        console.log(6776,res.data)\n\n            dispatch ({\n                type:'GET_DATA',\n                payload:res.data\n            })\n        })\n    }\n    };\n\n\n    export const Cpost = (data) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n        const userid = localStorage.getItem(\"user_id\")\n        const body = {\n            \"post\": \n            {\n                \"title\": data.title,\n                \"description\": data.description,\n                \"user_id\": userid\n            }\n        }\n     return (dispatch)=>{\n        instance.request({\n          method: \"post\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n          },\n          url: \"/posts\",\n          data : body\n          \n\n      }).then(res => \n         {\n          console.log(6776,res.data)\n          })\n      }\n      };\n\n     export const Deletedata=()=>{\n         return(\n             {\n                 type:'DELETE',\n             }\n         )\n     }\n     export const Spost = (id) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n            return (dispatch)=>{\n                instance.request({\n           method: \"get\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n      },\n      url: `/posts/${id}`,\n       }).then(res =>{\n          console.log(6776,res.data)\n          dispatch ({\n            type:\"SPOST\",\n            payload:res.data\n        })\n          })\n      }\n      };\n\n    export const Dpost = (id) => {\n          console.log(5665,id)\n        const token = localStorage.getItem('token');\n        console.log(token);\n            return (dispatch)=>{\n                instance.request({\n           method: \"delete\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Authorization\": token\n      },\n      url: `/posts/${id}`,\n       }).then(res =>{\n          console.log(6776,res.data)\n          dispatch({\n              type:\"DEL\",\n              payload:res.data\n          })\n          })\n      }\n      };\n\n      export const update_post = (id,data) => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n       \n        const userid = localStorage.getItem(\"user_id\")\n        const body = {\n            \"post\": \n            {\n                \"title\": data.title,\n                \"description\": data.description,\n                \"user_id\": userid\n            }\n        }\n        return (dispatch)=>{\n            axios.request({\n            method: \"put\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": token\n            },\n            url: `/posts/${id}`,\n            data : body\n            \n  \n        }).then(res => \n           {\n            console.log(6776,res.data)\n            dispatch({\n                type:\"UPT_POST\",\n                payload:res.data\n            })\n    \n            })\n\n        }\n        };"],"mappings":"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"},"metadata":{},"sourceType":"module"}